(this.webpackJsonptscalc=this.webpackJsonptscalc||[]).push([[0],{29:function(e,t,n){e.exports={Icon:"Icon_Icon__377W-",IconTextWrapper:"Icon_IconTextWrapper__Nb7R3",IconText:"Icon_IconText__KjO-g"}},35:function(e,t,n){e.exports={RecipePicker:"RecipePicker_RecipePicker__3sU3V",ResultName:"RecipePicker_ResultName__jSE56"}},42:function(e,t,n){e.exports={crashed:"ErrorCatcher_crashed__3tour"}},43:function(e,t,n){e.exports={RecipePart:"RecipePart_RecipePart__3J39l"}},44:function(e,t,n){e.exports={RecipeRow:"RecipeRow_RecipeRow__3swT4"}},48:function(e,t,n){e.exports={TotalCard:"TotalCard_TotalCard__2ci0q"}},49:function(e,t,n){e.exports={RecipeGroup:"RecipeGroup_RecipeGroup__3MC_F"}},50:function(e,t,n){e.exports={Sidebar:"App_Sidebar__3POeR"}},52:function(e,t,n){e.exports={ToastPortal:"ToastPortal_ToastPortal__1eVcj"}},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),i=n.n(r),o=n(12),c=n(9),s=n(3),u=n(6),l=n(7),d=n(8),p=n(42),h=n.n(p),m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={crashMsg:void 0},e}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return t.crashMsg!==this.state.crashMsg}},{key:"componentDidCatch",value:function(e,t){this.setState({crashMsg:["Component Stack:",t.componentStack,"",e&&e.stack].join("\n")})}},{key:"render",value:function(){return this.state.crashMsg?Object(a.jsxs)("div",{className:h.a.crashed,children:[Object(a.jsx)("h1",{children:"Crashed!"}),Object(a.jsx)("pre",{children:this.state.crashMsg})]}):this.props.children}}]),n}(i.a.Component),f=n(11),b=n.n(f),j=n(19),v=Object(c.b)({key:"gameData",default:null}),O=function(){var e=Object(c.e)(v);if(!e)throw new Error("useGameData called without gameData available");return e},g=Object(c.b)({key:"recipeTarget",default:void 0}),y=Object(c.b)({key:"groupAtoms",default:[]}),x=Object(c.c)({key:"groupsState",get:function(e){var t=e.get;return t(y).map((function(e){return[t(e),e]}))}}),w=Object(c.b)({key:"settings",default:{assemblerOverrides:{}}}),k=n(4),C=n(5);function N(e,t){if(!e)throw new Error(t||"Assertion failed")}function M(e,t){for(var n={},a=0,r=Object.entries(e);a<r.length;a++){var i=Object(k.a)(r[a],2),o=i[0],c=i[1];n[o]=t(c)}return n}function R(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)}function S(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function I(e,t){for(var n=0;n<t.length&&e>=1e3;n++)e/=1e3;return"".concat(S(e,2)," ").concat(t[n])}function P(e){return I(e,["J","kJ","MJ","GJ","TJ","PJ"])}function T(e,t){var n;function a(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];void 0!==n&&clearTimeout(n),n=setTimeout((function(){n=void 0,e.apply(void 0,r)}),t)}return Object.defineProperty(a,"cancel",{value:function(){void 0!==n&&(clearTimeout(n),n=void 0)}}),a}function _(e){var t=function(e){var t=e.valueOf(),n=Date.now(),a=n>t?"ago":"from now",r=Math.floor(Math.abs(n-t)/1e3);if(r>=60){var i=Math.floor(r/60),o=1===i?"minute":"minutes",c=1e3*(60-r%60);return["".concat(i," ").concat(o," ").concat(a),c]}var s=1===r?"second":"seconds";return["".concat(r," ").concat(s," ").concat(a),1e3]}(e),n=Object(k.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(0),c=Object(k.a)(o,2),s=(c[0],c[1]);return Object(r.useEffect)((function(){var e=setInterval((function(){s((function(e){return e+1}))}),i);return function(){clearInterval(e)}}),[i]),a}function D(e,t){return t?D(t,e%t):e}function E(e,t){return N(Number.isSafeInteger(e)),N(Number.isSafeInteger(t)),{quotient:Math.floor(e/t),remainder:e%t}}var q=1e4,F=function(){function e(t,n){Object(s.a)(this,e),this.p=void 0,this.q=void 0,N(Number.isSafeInteger(t),"Numerator must be a safe integer, got ".concat(t)),N(Number.isSafeInteger(n),"Denominator must be a safe integer, got ".concat(n)),N(0!==n,"Denominator must not be zero"),n<0&&(t=-t,n=-n),0===t&&(n=1);var a=D(t,n);a>1&&(t/=a,n/=a),this.p=t,this.q=n}return Object(u.a)(e,[{key:"floor",value:function(){var t=E(this.p,this.q),n=new e(t.quotient,1);return n.less(e.zero)&&0!==t.remainder&&(n=n.sub(e.one)),n}},{key:"negate",value:function(){return new e(-this.p,this.q)}},{key:"invert",value:function(){return new e(this.q,this.p)}},{key:"add",value:function(t){return new e(this.p*t.q+this.q*t.p,this.q*t.q)}},{key:"sub",value:function(t){return new e(this.p*t.q-this.q*t.p,this.q*t.q)}},{key:"mul",value:function(t){return"number"==typeof t&&(t=e.fromFloat(t)),new e(this.p*t.p,this.q*t.q)}},{key:"div",value:function(t){return new e(this.p*t.q,this.q*t.p)}},{key:"clamp",value:function(t,n){return"number"==typeof t&&(t=e.fromFloat(t)),"number"==typeof n&&(n=e.fromFloat(n)),this.less(t)?t:n.less(this)?n:this}},{key:"divmod",value:function(e){var t=this.div(e).floor();return{quotient:t,remainder:this.sub(e.mul(t))}}},{key:"equal",value:function(e){return this.p===e.p&&this.q===e.q}},{key:"isNegative",value:function(){return this.p<0}},{key:"isPositive",value:function(){return this.p>0}},{key:"isOne",value:function(){return 1===this.p}},{key:"isZero",value:function(){return 0===this.p}},{key:"less",value:function(e){return this.p*e.q<this.q*e.p}},{key:"toFloat",value:function(){return this.p/this.q}},{key:"toString",value:function(){return this.toFraction()}},{key:"toFraction",value:function(){return 1===this.q?this.p.toString():this.p.toString()+"/"+this.q.toString()}},{key:"toDecimal",value:function(t,n){null==t&&(t=3),null==n&&(n=new e(5,Math.pow(10,t+1)));var a="",r=this;r.isNegative()&&(a="-",r=r.negate());for(var i=E((r=r.add(n)).p,r.q),o=i.quotient.toString(),c="",s=new e(i.remainder,r.q),u=new e(10,1);t>0&&!s.equal(n);){s=s.mul(u),n=n.mul(u);var l=E(s.p,s.q);c+=l.quotient.toString(),s=new e(l.remainder,s.q),t--}if(s.equal(n))for(;"0"===c[c.length-1];)c=c.slice(0,c.length-1);return""!==c?a+o+"."+c:a+o}},{key:"toMixed",value:function(){if(this.isZero())return"0";var t=this.divmod(e.one),n=t.quotient,a=t.remainder,r=[];return n.isZero()||r.push(n.toFraction()),a.isZero()||r.push(a.toFraction()),r.join(" + ")}}],[{key:"fromFloat",value:function(t){if(Number.isInteger(t))return new this(t,1);var n,a=new e(Math.round(t*q),q),r=a.divmod(e.one),i=Object(C.a)(A);try{for(i.s();!(n=i.n()).done;){var o=Object(k.a)(n.value,2),c=o[0],s=o[1];if(r.remainder.equal(c))return r.quotient.add(s)}}catch(u){i.e(u)}finally{i.f()}return a}},{key:"fromInts",value:function(e,t){return new this(e,t)}},{key:"fromString",value:function(t){var n,a=e.zero,r=Object(C.a)(t.split("+"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i=i.trim()){var o=i.indexOf("/");if(-1===o)a=a.add(e.fromFloat(Number(i)));else{var c=Number(i.slice(0,o)),s=Number(i.slice(o+1));a=a.add(e.fromInts(c,s))}}}}catch(u){r.e(u)}finally{r.f()}return a}}]),e}();F.zero=new F(0,1),F.one=new F(1,1),F.oneThird=new F(1,3),F.twoThirds=new F(2,3);for(var A=[],B=2;B<100;B++)for(var U=1;U<B;U++){var G=U/B;if(!(G.toString().length<10)){var W=new F(Math.round(G*q),q);A.push([W,F.fromInts(U,B)]);var L=new F(Math.floor(G*q),q);A.push([L,F.fromInts(U,B)])}}var V=n(2),H=n(53),J=n(16),z=function(){function e(t){Object(s.a)(this,e),this.name=void 0,this.localisedName=void 0,this.iconCol=void 0,this.iconRow=void 0,this.name=t.name,this.localisedName=t.localised_name,this.iconCol=t.icon_col,this.iconRow=t.icon_row}return Object(u.a)(e,[{key:"niceName",get:function(){return this.localisedName.en}}]),e}(),K=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a,r;return Object(s.a)(this,n),(r=t.call(this,e)).group=void 0,r.subgroup=void 0,r.order=void 0,r.fuelValue=void 0,r.usedBy=[],r.madeBy=[],r.group=e.group,r.subgroup=e.subgroup,r.order=e.order,r.fuelValue=null!==(a=e.fuel_value)&&void 0!==a?a:null,r}return n}(z),Z=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).type=void 0,a.limitedTo=void 0,a.effects=void 0,a.type=e.type,a.limitedTo=new Set(e.limitation),a.effects={speed:F.fromFloat((e.effect.speed||{bonus:0}).bonus),productivity:F.fromFloat((e.effect.productivity||{bonus:0}).bonus),consumption:F.fromFloat((e.effect.consumption||{bonus:0}).bonus),pollution:F.fromFloat((e.effect.pollution||{bonus:0}).bonus)},a}return Object(u.a)(n,[{key:"canUseWith",value:function(e){return 0===this.limitedTo.size||this.limitedTo.has(e.name)}}]),n}(K),Q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).defaultTemperature=void 0,a.type="fluid",a.defaultTemperature=e.default_temperature,a}return n}(K),$=function(){function e(t,n){var a;Object(s.a)(this,e),this.type=void 0,this.name=void 0,this.amount=void 0,this.item=void 0,this.name=t.name,this.amount=F.fromFloat(t.amount),this.type=null!==(a=t.type)&&void 0!==a?a:"item",this.item=n.getItem(t.name)}return Object(u.a)(e,[{key:"niceName",get:function(){return"".concat(this.amount.toDecimal()," \xd7 ").concat(this.item.niceName)}}]),e}(),X=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e,a){var r;return Object(s.a)(this,n),(r=t.call(this,e,a)).type="fluid",r.item=void 0,r.minimumTemperature=void 0,r.maximumTemperature=void 0,r.item=a.getFluid(e.name),r.minimumTemperature=e.minimum_temperature||-1/0,r.maximumTemperature=e.maximum_temperature||1/0,r.maximumTemperature>=1797e305&&(r.maximumTemperature=1/0),r.minimumTemperature<=-1797e305&&(r.minimumTemperature=-1/0),r}return Object(u.a)(n,[{key:"niceName",get:function(){var e=this.minimumTemperature,t=this.maximumTemperature,n="";return e!==-1/0&&t!==1/0?n=" (".concat(e,"\xb0 \u2013 ").concat(t,"\xb0)"):t!==1/0?n=" (\u2264 ".concat(t,"\xb0)"):e!==-1/0&&(n=" (\u2265 ".concat(t,"\xb0)")),"".concat(this.amount.toDecimal()," \xd7 ").concat(this.item.niceName).concat(n)}}]),n}($),Y=function(){function e(t,n){var a;Object(s.a)(this,e),this.name=void 0,this.item=void 0,this.amount=void 0,this.name=t.name,this.item=n.getItem(t.name),a="amount"in t?F.fromFloat(t.amount):F.fromInts(t.amount_min+t.amount_max,2),"number"==typeof t.probability&&(0===t.probability?a=F.zero:1!==t.probability&&(N(t.probability>0),N(t.probability<1),a=a.mul(F.fromFloat(t.probability)))),this.amount=a}return Object(u.a)(e,[{key:"satisfies",value:function(e){return e.item===this.item}},{key:"niceName",get:function(){return"".concat(this.amount.toDecimal()," \xd7 ").concat(this.item.niceName)}}]),e}(),ee=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e,a){var r;return Object(s.a)(this,n),(r=t.call(this,e,a)).item=void 0,r.temperature=void 0,r.item=a.getFluid(e.name),r.temperature=e.temperature||r.item.defaultTemperature,r}return Object(u.a)(n,[{key:"satisfies",value:function(e){return e.item===this.item&&e instanceof X&&e.maximumTemperature>=this.temperature&&e.minimumTemperature<=this.temperature}},{key:"niceName",get:function(){var e="";return this.temperature!==this.item.defaultTemperature&&(e=" (".concat(this.temperature,"\xb0)")),"".concat(this.amount.toDecimal()," \xd7 ").concat(this.item.niceName).concat(e)}}]),n}(Y),te=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e,a){var r;return Object(s.a)(this,n),(r=t.call(this,e)).category=void 0,r.ingredients=void 0,r.products=void 0,r.craftingTime=void 0,r.madeIn=[],r.category=e.category,r.craftingTime=F.fromFloat(e.energy_required),r.ingredients=e.ingredients.map((function(e){return"fluid"===e.type?new X(e,a):new $(e,a)})),r.products=e.results.map((function(e){return"fluid"===e.type?new ee(e,a):new Y(e,a)})),r}return Object(u.a)(n,[{key:"niceName",get:function(){if(1!==this.products.length)return Object(H.a)(Object(J.a)(n.prototype),"niceName",this);var e=this.products[0];return N(e,"recipe has no products"),e.amount.equal(F.one)?e.item.niceName:e.niceName}}]),n}(z),ne=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).craftingCategories=void 0,a.craftingSpeed=void 0,a.moduleSlots=void 0,a.craftingCategories=e.crafting_categories,a.craftingSpeed=e.crafting_speed,a.moduleSlots=e.module_slots,a}return Object(u.a)(n,[{key:"canBuildRecipe",value:function(e){return-1!==this.craftingCategories.indexOf(e.category)}}]),n}(function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return n}(z)),ae=function(){function e(t){Object(s.a)(this,e),this.itemMap=new Map,this.fluids=[],this.fluidMap=new Map,this.modules=[],this.moduleMap=new Map,this.recipes=[],this.recipeMap=new Map,this.entityMap=new Map,this.categoryMap=void 0,this.groups=void 0,this.clockSprite=void 0,this.noModuleModule=void 0,this.spriteHash=void 0,this.spriteHash=t.sprites.hash;for(var n=0,a=Object.values(t["assembling-machine"]);n<a.length;n++){var r=a[n],i=new ne(r);this.entityMap.set(i.name,i)}for(var o=0,c=Object.values(t.furnace);o<c.length;o++){var u=c[o],l=new ne(u);this.entityMap.set(l.name,l)}for(var d=0,p=Object.values(t["rocket-silo"]);d<p.length;d++){var h=p[d],m=new ne(h);this.entityMap.set(m.name,m)}for(var f=0,b=Object.values(t["mining-drill"]);f<b.length;f++){var j=b[f],v=Object(V.a)(Object(V.a)({},j),{},{crafting_categories:j.resource_categories.map((function(e){return"resource-"+e})),crafting_speed:j.mining_speed,ingredient_count:1}),O=new ne(v);this.entityMap.set(v.name,O)}for(var g=0,y=Object.values(t.items);g<y.length;g++){var x=y[g];if("type"in x&&"fluid"===x.type){var w=new Q(x);this.itemMap.set(w.name,w),this.fluids.push(w),this.fluidMap.set(w.name,w)}else if("type"in x&&"module"===x.type){var k=new Z(x);this.itemMap.set(k.name,k),this.modules.push(k),this.moduleMap.set(k.name,k)}else{var M=new K(x);this.itemMap.set(M.name,M)}}for(var R=[],S=0,I=Object.values(t.recipes);S<I.length;S++){var P=I[S];R.push(new te(P,this))}for(var T=0,_=Object.values(t.resource);T<_.length;T++){var D=_[T],E="resource-".concat(D.category),q=[],F=D.minable,A=F.fluid_amount,B=F.required_fluid;A&&B&&q.push({name:B,type:"fluid",amount:A/10}),R.push(new te({name:"resource-".concat(D.name),localised_name:D.localised_name,category:E,energy_required:D.minable.mining_time,group:E,subgroup:E,icon_col:D.icon_col,icon_row:D.icon_row,ingredients:q,results:D.minable.results,type:"recipe",order:"A"},this))}for(var U=0,G=R;U<G.length;U++){var W,L=G[U],H=Object(C.a)(this.entityMap.values());try{for(H.s();!(W=H.n()).done;){var J=W.value;"canBuildRecipe"in J&&J.canBuildRecipe(L)&&L.madeIn.push(J)}}catch(ie){H.e(ie)}finally{H.f()}if(L.madeIn.length){if(L.products.some((function(e){return e.amount.isPositive()}))){var $,X=Object(C.a)(L.ingredients);try{for(X.s();!($=X.n()).done;){$.value.item.usedBy.push(L)}}catch(ie){X.e(ie)}finally{X.f()}var Y,ee=Object(C.a)(L.products);try{for(ee.s();!(Y=ee.n()).done;){Y.value.item.madeBy.push(L)}}catch(ie){ee.e(ie)}finally{ee.f()}this.recipes.push(L),this.recipeMap.set(L.name,L)}}else console.warn("Ignoring uncraftable recipe: ".concat(L.name))}this.categoryMap=function(e){var t,n={},a=Object(C.a)(e);try{for(a.s();!(t=a.n()).done;){var r,i=t.value,o=Object(C.a)(i.craftingCategories);try{for(o.s();!(r=o.n()).done;){var c=r.value,s=n[c];s?s.push(i):n[c]=[i]}}catch(ie){o.e(ie)}finally{o.f()}}}catch(ie){a.e(ie)}finally{a.f()}return n}(this.entityMap.values()),this.groups=t.groups;var ae=t.sprites.extra.clock;N(ae,"missing clock sprite");var re=t.sprites.extra.slot_icon_module;N(re,'missing "no icon" sprite'),this.clockSprite=new z(Object(V.a)(Object(V.a)({},ae),{},{name:"clock",localised_name:{en:"Clock"}})),this.noModuleModule=new Z(Object(V.a)(Object(V.a)({},re),{},{type:"module",name:"no_module",localised_name:{en:"No Module"},category:"speed",effect:{},limitation:[],rocket_launch_products:[],group:"",subgroup:"",order:""}))}return Object(u.a)(e,[{key:"getEntity",value:function(e){var t=this.entityMap.get(e);return N(t,"no entity with name: ".concat(e)),t}},{key:"getFluid",value:function(e){var t=this.fluidMap.get(e);return N(t,"no fluid with name: ".concat(e)),t}},{key:"getItem",value:function(e){var t=this.itemMap.get(e);return N(t,"no item with name: ".concat(e)),t}},{key:"getModule",value:function(e){var t=this.moduleMap.get(e);return N(t,"no module with name: ".concat(e)),t}},{key:"getRecipe",value:function(e){var t=this.recipeMap.get(e);return N(t,"no recipe with name: ".concat(e)),t}},{key:"getItemOrder",value:function(e){var t="",n="",a=this.groups[e.group];return a&&(t=a.order,n=a.subgroups[e.subgroup]||""),[t,n,e.order,e.name]}},{key:"sortByItem",value:function(e,t){var n=this;e.sort((function(e,a){var r=n.getItemOrder(t(e)),i=n.getItemOrder(t(a));for(var o in r){var c=r[o],s=i[o];if(c>s)return 1;if(c<s)return-1}return 0}))}}]),e}();function re(e,t,n){var a,r=e instanceof te?e.category:e;return N(a=r in t.assemblerOverrides?t.assemblerOverrides[r]:n.categoryMap[r][0]),e instanceof te&&N(-1!==e.madeIn.indexOf(a)),a}var ie=n(32);function oe(e){return{name:e.name,rows:e.rows.map((function(e){return[e[0],e[1],e[2].toString(),e[3],e[4],e[5]]}))}}var ce="tscalc-".concat(document.location.pathname);function se(e,t){return{version:5,data:{groups:e.groups.map((function(n){return{name:n.name,rows:n.rows.map((function(n){var a=n.machine.name;return re(n.recipe,e.settings,t).name===a&&(a=null),[n.recipe.name,a,n.numMachines.toFraction(),n.modules.map((function(e){return e?e.name:null})),n.beaconModule?n.beaconModule.name:void 0,n.numBeacons]}))}})),settings:{assemblerOverrides:M(e.settings.assemblerOverrides,(function(e){return e.name}))}}}}var ue=/^#(\d+)?(?:-)?(.+)$/;function le(e){switch(e.version){case 1:e=function(e){return{version:2,data:{rows:e.data,settings:{assemblerOverrides:{}}}}}(e);case 2:e=function(e){return{version:3,data:e.data}}(e);case 3:e=function(e){return{version:4,data:{settings:e.data.settings,groups:[{name:"Factory 1",rows:e.data.rows}]}}}(e);case 4:e=function(e){return{version:5,data:{settings:e.data.settings,groups:e.data.groups.map(oe)}}}(e);case 5:break;default:throw new Error("unknown state: ".concat(e))}return e}function de(e,t){var n=le(t).data,a={settings:pe(e,n.settings),groups:[]};return a.groups=n.groups.map((function(t){return{name:t.name,rows:t.rows.map((function(t){var n=Object(k.a)(t,6),r=n[0],i=n[1],o=n[2],c=n[3],s=n[4],u=n[5],l=e.getRecipe(r);return{recipe:l,machine:i?e.getEntity(i):re(l,a.settings,e),numMachines:F.fromString(o),modules:c.map((function(t){return t?e.getModule(t):null})),beaconModule:s?e.getModule(s):null,numBeacons:u||0}}))}})),a}function pe(e,t){return{assemblerOverrides:M(t.assemblerOverrides,(function(t){return e.getEntity(t)}))}}var he=function(){function e(){var t=this;Object(s.a)(this,e),this.handlers=[],this.dispatch=function(e){var n,a=Object(C.a)(t.handlers);try{for(a.s();!(n=a.n()).done;){(0,n.value)(e)}}catch(r){a.e(r)}finally{a.f()}}}return Object(u.a)(e,[{key:"addHandler",value:function(e){-1===this.handlers.indexOf(e)&&this.handlers.push(e)}},{key:"removeHandler",value:function(e){var t=this.handlers.indexOf(e);-1!==t&&this.handlers.splice(t,1)}}]),e}(),me=new he,fe=new he,be=new he,je=new he;var ve=n(21),Oe=n.n(ve),ge=n(10),ye=n(23),xe=0,we=function(){var e=Object(c.f)(y);return Object(r.useCallback)((function(t){e((function(e){return[].concat(Object(ge.a)(e),[Object(c.b)({key:"group-".concat(++xe),default:t})])}))}),[e])},ke=function(){function e(t){if(Object(s.a)(this,e),this.ingredients=[],this.products=[],t&&t.length){var n,a=Object(C.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;this.addRow(r)}}catch(i){a.e(i)}finally{a.f()}}}return Object(u.a)(e,[{key:"addIngredient",value:function(e){var t,n=Object(C.a)(this.ingredients);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.name===e.name&&(!(e instanceof X&&a instanceof X)||e.maximumTemperature===a.maximumTemperature&&e.minimumTemperature===a.minimumTemperature))return void(a.amount=a.amount.add(e.amount))}}catch(c){n.e(c)}finally{n.f()}var r,i=Object(C.a)(this.products);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.satisfies(e)){if(!o.amount.less(e.amount)){o.amount=o.amount.sub(e.amount),e.amount=F.zero;break}if(e.amount=e.amount.sub(o.amount),o.amount=F.zero,e.amount.isZero())break}}}catch(c){i.e(c)}finally{i.f()}this.ingredients.push(e),this.ingredients=this.ingredients.filter((function(e){return!e.amount.isZero()})),this.products=this.products.filter((function(e){return!e.amount.isZero()}))}},{key:"addProduct",value:function(e){var t,n=Object(C.a)(this.products);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.name===a.name&&!(e instanceof ee&&a instanceof ee&&e.temperature!==a.temperature))return void(a.amount=a.amount.add(e.amount))}}catch(c){n.e(c)}finally{n.f()}var r,i=Object(C.a)(this.ingredients);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(e.satisfies(o)){if(e.amount.less(o.amount)){o.amount=o.amount.sub(e.amount),e.amount=F.zero;break}if(e.amount=e.amount.sub(o.amount),o.amount=F.zero,e.amount.isZero())break}}}catch(c){i.e(c)}finally{i.f()}this.products.push(e),this.ingredients=this.ingredients.filter((function(e){return!e.amount.isZero()})),this.products=this.products.filter((function(e){return!e.amount.isZero()}))}},{key:"addRow",value:function(e){var t,n={consumption:F.one,pollution:F.one,productivity:F.one,speed:F.one},a=Object(C.a)(e.modules);try{for(a.s();!(t=a.n()).done;){var r=t.value;r&&(n.consumption=n.consumption.add(r.effects.consumption),n.pollution=n.pollution.add(r.effects.pollution),n.productivity=n.productivity.add(r.effects.productivity),n.speed=n.speed.add(r.effects.speed))}}catch(f){a.e(f)}finally{a.f()}if(e.beaconModule&&e.numBeacons>0){var i=e.beaconModule.effects,o=F.fromInts(e.numBeacons,2);n.consumption=n.consumption.add(i.consumption.mul(o)),n.pollution=n.pollution.add(i.pollution.mul(o)),n.productivity=n.productivity.add(i.productivity.mul(o)),n.speed=n.speed.add(i.speed.mul(o))}n.consumption=n.consumption.clamp(.2,32767),n.pollution=n.pollution.clamp(.2,32767),n.speed=n.speed.clamp(.2,32767),n.productivity=n.productivity.clamp(1,32767);var c,s=F.one.mul(e.recipe.craftingTime.invert()).mul(e.numMachines).mul(e.machine.craftingSpeed).mul(n.speed),u=s.mul(n.productivity),l=Object(C.a)(e.recipe.ingredients.map((function(e){return(e=R(e)).amount=e.amount.mul(s),e})));try{for(l.s();!(c=l.n()).done;){var d=c.value;this.addIngredient(d)}}catch(f){l.e(f)}finally{l.f()}var p,h=Object(C.a)(e.recipe.products.map((function(e){return(e=R(e)).amount=e.amount.mul(u),e})));try{for(h.s();!(p=h.n()).done;){var m=p.value;this.addProduct(m)}}catch(f){h.e(f)}finally{h.f()}}}]),e}(),Ce=n(28),Ne=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).buttonRef=r.createRef(),e.state={isOpen:!1},e.handleClick=function(t){e.getCanToggle()&&(t.stopPropagation(),e.setState((function(e){return Object(V.a)(Object(V.a)({},e),{},{isOpen:!e.isOpen})})))},e.handleSelect=function(t){e.props.onSelect(t),e.setState({isOpen:!1})},e.handleWantClose=function(){e.setState({isOpen:!1})},e}return Object(u.a)(n,[{key:"getCanToggle",value:function(){var e,t=Object(C.a)(this.props.options);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("option"in n&&!n.disabled)return!0}}catch(a){t.e(a)}finally{t.f()}return!1}},{key:"render",value:function(){var e,t=["btn","btn-secondary"];return this.getCanToggle()?t.push("dropdown-toggle"):t.push("disabled"),this.state.isOpen&&(e=Object(a.jsx)(Me,{parentRef:this.buttonRef,options:this.props.options,renderOption:this.props.renderOption,onSelect:this.handleSelect,onWantClose:this.handleWantClose})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{ref:this.buttonRef,className:t.join(" "),type:"button",onClick:this.handleClick,children:this.props.renderSelected(this.props.selected)}),e]})}}]),n}(r.PureComponent),Me=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).popperInstance=null,e.menuRef=r.createRef(),e.state={style:{}},e.popperUpdate=function(t){return e.setState({style:t.styles}),t},e.handleBodyClick=function(t){t.target instanceof Node?(N(e.menuRef.current),e.menuRef.current.contains(t.target)||e.props.onWantClose()):console.warn("handleBodyClick called for non-node",t.target)},e.handleKeyEvent=function(t){27===t.keyCode&&e.props.onWantClose()},e.renderOptions=function(){return e.props.options.map((function(t,n){if("header"in t)return Object(a.jsx)("h6",{className:"dropdown-header",children:t.header},"ddkey"+n);if("divider"in t)return Object(a.jsx)("div",{className:"dropdown-divider"},"ddkey"+n);var r=["dropdown-item"];return t.active&&r.push("active"),t.disabled&&r.push("disabled"),Object(a.jsx)("button",{className:r.join(" "),onClick:function(){return e.props.onSelect(t.option)},type:"button",children:e.props.renderOption(t.option)},t.key)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){if(this.popperInstance)throw new Error("Component mounted twice?");var e=this.props.parentRef.current;if(!e)throw new Error("Cannot mount DropdownMenu without parentRef");var t=this.menuRef.current;if(!t)throw new Error("Cannot mount DropdownMenu without menuRef");this.popperInstance=new Ce.a(e,t,{modifiers:{applyStyle:{enabled:!1},updateStateWithStyle:{enabled:!0,fn:this.popperUpdate}}}),document.body.addEventListener("click",this.handleBodyClick),document.body.addEventListener("keyup",this.handleKeyEvent)}},{key:"componentWillUnmount",value:function(){this.popperInstance&&(this.popperInstance.disableEventListeners(),this.popperInstance=null),document.body.removeEventListener("click",this.handleBodyClick),document.body.removeEventListener("keyup",this.handleKeyEvent)}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"dropdown-menu show",style:this.state.style,ref:this.menuRef,children:this.renderOptions()})}}]),n}(r.PureComponent),Re={zIndex:1001},Se=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).selfRef=void 0,a.popperInstance=void 0,a.handleMouseEnter=function(){a.setState({showSelf:!0})},a.handleMouseLeave=function(){a.setState({showSelf:!1})},a.selfRef=r.createRef(),a.popperInstance=null,a.state={showSelf:!1},a}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.relativeTo!==e.relativeTo||this.state.showSelf!==t.showSelf||this.state.showSelf&&this.props.content!==e.content}},{key:"initPopper",value:function(){if(!this.popperInstance){var e=this.props.relativeTo.current;if(!e)throw new Error("Invalid relativeTo");var t=this.selfRef.current;if(!t)throw new Error("No self reference yet?");this.popperInstance=new Ce.a(e,t,{placement:"right",modifiers:{offset:{enabled:!0,offset:"0, 20"},preventOverflow:{enabled:!0,boundariesElement:"window"}}})}}},{key:"cleanupPopper",value:function(){this.popperInstance&&(this.popperInstance.disableEventListeners(),this.popperInstance=null)}},{key:"componentDidUpdate",value:function(e,t){t.showSelf!==this.state.showSelf&&(this.state.showSelf?this.initPopper():this.cleanupPopper())}},{key:"componentDidMount",value:function(){var e=this.props.relativeTo.current;if(!e)throw new Error("Invalid relativeTo");e.addEventListener("mouseenter",this.handleMouseEnter),e.addEventListener("mouseleave",this.handleMouseLeave)}},{key:"componentWillUnmount",value:function(){var e=this.props.relativeTo.current;e&&(e.removeEventListener("mouseenter",this.handleMouseEnter),e.removeEventListener("mouseleave",this.handleMouseLeave))}},{key:"render",value:function(){return this.state.showSelf?o.createPortal(Object(a.jsx)("div",{style:Re,ref:this.selfRef,children:this.props.content()}),document.body):null}}]),n}(r.Component),Ie=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t,n=e.target.value,r=n.trim()?Number(n):NaN;Number.isNaN(r)?t="Improperly formatted number":Number.isInteger(r)?"number"===typeof a.props.min&&r<a.props.min&&(t=0===a.props.min?"Must be positive":"Must be greater than ".concat(a.props.min)):t="Must be an integer",a.setState({txtValue:n,errMsg:t},(function(){"number"!==typeof r||t||a.props.onChange(r)}))},a.state={txtValue:e.value.toString(),errMsg:void 0},a}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.value!==e.value||this.props.min!==e.min||this.state.txtValue!==t.txtValue||this.state.errMsg!==t.errMsg}},{key:"componentDidUpdate",value:function(e){var t=this;e.value!==this.props.value&&this.setState((function(e){return{txtValue:Number(e.txtValue)===t.props.value?e.txtValue:t.props.value.toString()}}))}},{key:"render",value:function(){var e="form-control";return this.state.errMsg&&(e+=" is-invalid"),Object(a.jsx)("input",{className:e,value:this.state.txtValue,onChange:this.handleChange,type:"number",min:this.props.min,step:"1"})}}]),n}(r.Component),Pe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t,n,r=e.target.value;try{n=Te(r)}catch(i){t=i.message}n&&a.props.positiveOnly&&n.isNegative()&&(n=void 0,t="Number must be positive"),a.setState({txtValue:r,error:t},(function(){n&&a.props.onChange(n)}))},a.state={error:void 0,txtValue:_e(e.value)},a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){if(!this.props.value.equal(e.value)){var t;try{t=Te(this.state.txtValue)}catch(n){return}t.equal(this.props.value)||this.setState({txtValue:_e(this.props.value)})}}},{key:"render",value:function(){return Object(a.jsx)("input",{className:Oe()("form-control",{"is-invalid":!!this.state.error}),value:this.state.txtValue,onChange:this.handleChange,type:"text"})}}]),n}(r.PureComponent);function Te(e){if(!e.trim())throw new Error("Empty!");if(e.indexOf("/")!==e.lastIndexOf("/"))throw new Error("Too many slashes");return F.fromString(e)}function _e(e){var t=e.toFloat().toString();return t.length<10?t:e.toMixed()}var De=n(29),Ee=n.n(De),qe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).iconRef=i.a.createRef(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=32*-this.props.obj.iconCol,t=32*-this.props.obj.iconRow,n={backgroundPosition:"".concat(e,"px ").concat(t,"px")},r=Object(a.jsx)("div",{ref:this.iconRef,onClick:this.props.onClick,title:this.props.title,className:Oe()(Ee.a.Icon,"game-icon",this.props.className),style:n,children:"\xa0"});return this.props.tooltip&&(r=Object(a.jsxs)(a.Fragment,{children:[r,Object(a.jsx)(Se,{content:this.props.tooltip,relativeTo:this.iconRef})]})),this.props.text&&(r=Object(a.jsxs)("div",{className:Ee.a.IconTextWrapper,children:[r,Object(a.jsx)("span",{className:Ee.a.IconText,children:this.props.text})]})),r}}]),n}(i.a.PureComponent),Fe=function(e){var t,n=e.obj;if(n.item.fuelValue){var r=P(n.amount.mul(n.item.fuelValue).toFloat());t=Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Fuel value"}),": ",P(n.item.fuelValue)]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Total fuel value"}),": ",r]})]})}return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsxs)("div",{className:"card-header",children:[n.niceName," (",n.item.name,")"]}),t]})},Ae=n(43),Be=n.n(Ae),Ue=function(e){var t=e.obj,n=e.showName,i=Object(c.d)(g),o=Object(k.a)(i,2),s=o[0],u=o[1],l=Object(r.useCallback)((function(e){if(e.shiftKey)return e.preventDefault(),e.stopPropagation(),void u({item:t.item,amount:t.amount});t instanceof $?1===t.item.madeBy.length?be.dispatch(t.item.madeBy[0]):me.dispatch(t):1===t.item.usedBy.length?be.dispatch(t.item.usedBy[0]):fe.dispatch(t)}),[t,u]),d=function(e){var t,n=e.toDecimal().toString();t=n.includes(".")&&n.length>4?Object(a.jsx)("abbr",{title:e.toFraction(),children:e.toDecimal()}):n;return Object(a.jsxs)(a.Fragment,{children:[t," / sec"]})}(t.amount);n&&(d=Object(a.jsxs)(a.Fragment,{children:[t.item.niceName," \u2014 ",d]}));var p=s&&s.item===t.item&&s.amount.equal(t.amount)?"copy-source":"";return Object(a.jsx)(qe,{className:"".concat(Be.a.RecipePart," ").concat(p),onClick:l,tooltip:function(){return Object(a.jsx)(Fe,{obj:t})},obj:t.item,text:d})};var Ge=function(e){return Object(a.jsx)("div",{className:"machine-card card",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("b",{children:e.machine.niceName}),Object(a.jsx)("br",{}),Object(a.jsx)("b",{children:"Crafting Speed:"})," ",e.machine.craftingSpeed,Object(a.jsx)("br",{}),Object(a.jsx)("b",{children:"Module Slots:"})," ",e.machine.moduleSlots]})})},We=function(e){var t=e.recipe,n=e.onClick,r=O(),i=t.ingredients.map((function(e){return Object(a.jsx)(qe,{obj:e.item,text:e.niceName},e.name)})),o=t.products.map((function(e){return Object(a.jsx)(qe,{obj:e.item,text:e.niceName},e.name)})),c=t.madeIn.map((function(e){return Object(a.jsx)(qe,{obj:e,tooltip:function(){return Object(a.jsx)(Ge,{machine:e})}},e.name)}));return Object(a.jsxs)("div",{className:"recipe-tooltip card",onClick:function(){n&&n(t)},children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)(qe,{obj:t,text:"".concat(t.niceName," (Recipe)")})}),Object(a.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("b",{children:"Ingredients:"}),i,Object(a.jsx)(qe,{obj:r.clockSprite,text:Object(a.jsxs)("span",{children:[Object(a.jsxs)("b",{children:[t.craftingTime.toDecimal()," s"]})," Crafting time"]})})]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("b",{children:"Products:"}),o]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("b",{children:"Made In:"}),Object(a.jsx)("br",{}),c]})]})]})},Le=function(e){return Object(a.jsx)(qe,{obj:e,tooltip:function(){return Object(a.jsx)(Ge,{machine:e})}})},Ve=function(e){return Object(a.jsx)(qe,{obj:e,tooltip:function(){return Object(a.jsx)(Ge,{machine:e})},text:e.niceName})},He=function(e){var t=e.machines.map((function(t){return{key:t.name,option:t,active:t===e.selected}}));return Object(a.jsx)(Ne,{options:t,selected:e.selected,onSelect:e.onChange,renderOption:Ve,renderSelected:Le})};function Je(e,t){return t.isZero()?null:Object(a.jsx)("div",{children:Object(a.jsxs)("b",{children:[e," ",S(100*t.toFloat(),2),"%"]})})}var ze=function(e){var t=e.module;return Object(a.jsxs)("div",{className:"module-card card",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("b",{children:t.niceName})}),Object(a.jsxs)("div",{className:"card-body",children:[Je("Speed",t.effects.speed),Je("Productivity",t.effects.productivity),Je("Energy Consumption",t.effects.consumption),Je("Pollution",t.effects.pollution)]})]})},Ke=function(e){var t=O(),n=t.modules.filter((function(t){return(!e.isBeacon||!t.effects.productivity.isPositive())&&t.canUseWith(e.recipe)})).map((function(t){return{key:t.name,option:t,active:t===e.selected}}));return n.unshift({key:"no_module",option:null,active:!e.selected}),Object(a.jsx)(Ne,{options:n,selected:e.selected,onSelect:e.onChange,renderOption:function(e){return e?Object(a.jsx)(qe,{obj:e,tooltip:function(){return Object(a.jsx)(ze,{module:e})},text:e.niceName}):Object(a.jsx)(qe,{obj:t.noModuleModule,text:t.noModuleModule.niceName})},renderSelected:function(e){return e?Object(a.jsx)(qe,{obj:e,tooltip:function(){return Object(a.jsx)(ze,{module:e})}}):Object(a.jsx)(qe,{obj:t.noModuleModule})}})},Ze=n(44),Qe=n.n(Ze),$e=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleRemoveRow=function(){e.props.onRemoveRow(e.props.data.recipe)},e.handleMachineChange=function(t){e.applyChange({machine:t,modules:e.props.data.modules.filter((function(e){return null!==e})).slice(0,t.moduleSlots)})},e.handleNumMachinesChange=function(t){e.applyChange({numMachines:t})},e.handleNumBeaconsChange=function(t){e.applyChange({numBeacons:t})},e.handleSetAllModules=function(){e.applyChange({modules:new Array(e.props.data.machine.moduleSlots).fill(e.props.data.modules[0])})},e.handleSetModule=function(t,n){var a=e.props.data.modules.slice();a[t]=n,e.applyChange({modules:a})},e.handleSetBeaconModule=function(t){e.applyChange({beaconModule:t})},e.handleInputGroupClick=function(t){var n=e.props.recipeTarget;if(t.shiftKey&&n){t.preventDefault(),t.stopPropagation();var a,r=new ke;if(r.addRow(Object(V.a)(Object(V.a)({},e.props.data),{},{numMachines:F.one})),a=(a=r.ingredients.find((function(e){return e.item.name===n.item.name})))||r.products.find((function(e){return e.item.name===n.item.name}))){var i=n.amount.div(a.amount);e.applyChange({numMachines:i})}else console.error("Could not find ".concat(n.item.name," in totals"),r)}},e}return Object(u.a)(n,[{key:"applyChange",value:function(e){this.props.onUpdateRow(Object(V.a)(Object(V.a)({},this.props.data),e))}},{key:"getOutput",value:function(){var e=new ke;return e.addRow(this.props.data),e}},{key:"renderModules",value:function(){for(var e=this,t=this.props.data.machine.moduleSlots,n=[],r=function(t){var r=e.props.data.modules[t]||null;n.push(Object(a.jsx)(Ke,{recipe:e.props.data.recipe,selected:r,onChange:function(n){return e.handleSetModule(t,n)}},t))},i=0;i<t;i++)r(i);return t>1&&n.splice(1,0,Object(a.jsx)("button",{onClick:this.handleSetAllModules,className:"btn",children:"\u2192"},"applicator")),n}},{key:"renderBeacons",value:function(){return Object(a.jsx)("div",{className:"btn-toolbar",children:Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("span",{className:"input-group-text",children:"Beacon Modules"})}),Object(a.jsx)(Ie,{value:this.props.data.numBeacons,onChange:this.handleNumBeaconsChange,min:0}),Object(a.jsx)("div",{className:"input-group-append btn-icon-wrapper",children:Object(a.jsx)(Ke,{isBeacon:!0,recipe:this.props.data.recipe,selected:this.props.data.beaconModule,onChange:this.handleSetBeaconModule})})]})})}},{key:"renderMachines",value:function(){return Object(a.jsx)("div",{className:"btn-toolbar mb-3",children:Object(a.jsxs)("div",{className:"input-group",onClick:this.handleInputGroupClick,children:[Object(a.jsx)(Pe,{value:this.props.data.numMachines,onChange:this.handleNumMachinesChange,positiveOnly:!0}),Object(a.jsx)("div",{className:"input-group-append btn-icon-wrapper",children:Object(a.jsx)(He,{machines:this.props.data.recipe.madeIn,selected:this.props.data.machine,onChange:this.handleMachineChange})})]})})}},{key:"render",value:function(){var e=this,t=this.props.data.recipe,n=this.getOutput(),r=n.ingredients.map((function(e){return Object(a.jsx)("div",{className:"mb-1",children:Object(a.jsx)(Ue,{obj:e})},e.name)})),i=n.products.map((function(e){return Object(a.jsx)("div",{className:"mb-1",children:Object(a.jsx)(Ue,{obj:e})},e.name)}));return Object(a.jsx)(ye.b,{draggableId:t.name,index:this.props.index,children:function(n){return Object(a.jsxs)("div",Object(V.a)(Object(V.a)({className:"".concat(Qe.a.RecipeRow," recipe-row card mb-3"),ref:n.innerRef},n.draggableProps),{},{children:[Object(a.jsxs)("div",Object(V.a)(Object(V.a)({className:"card-header clearfix"},n.dragHandleProps),{},{children:[Object(a.jsx)("div",{className:"float-left",children:Object(a.jsx)(qe,{obj:t,text:t.niceName,tooltip:function(){return Object(a.jsx)(We,{recipe:t})}})}),Object(a.jsx)("div",{className:"float-right",children:Object(a.jsx)("button",{className:"btn btn-danger btn-sm",onClick:e.handleRemoveRow,children:"Remove"})})]})),Object(a.jsxs)("div",{className:"card-body clearfix",children:[Object(a.jsxs)("div",{className:"float-left",children:[e.renderMachines(),Object(a.jsx)("div",{className:"mb-3 btn-group btn-icon-wrapper",role:"group",children:e.renderModules()}),e.renderBeacons()]}),Object(a.jsxs)("div",{className:"float-right",children:[Object(a.jsxs)("div",{className:"mr-3",style:{display:"inline-block",float:"left",minWidth:"150px"},children:[Object(a.jsx)("b",{children:"Ingredients:"}),r]}),Object(a.jsxs)("div",{className:"mr-2",style:{display:"inline-block",minWidth:"150px"},children:[Object(a.jsx)("b",{children:"Products:"}),i]})]})]})]}))}})}}]),n}(i.a.PureComponent),Xe=function(e){var t=e.index,n=e.data,r=e.onRemoveRow,i=e.onUpdateRow,o=Object(c.e)(g);return Object(a.jsx)($e,{index:t,data:n,recipeTarget:o,onUpdateRow:i,onRemoveRow:r})},Ye=n(15),et=n(47),tt=n(35),nt=n.n(tt),at=function(e,t){if("string"===typeof t)throw new Error("path unexpectedly string: ".concat(t));if(1!==t.length)throw new Error("path unexpectedly long/short: ".concat(t));switch(t[0]){case"niceName":return e.niceName;case"name":return e.name;default:throw new Error("Unsupported path: ".concat(t))}},rt=/((?:produces)|(?:consumes)):([a-z0-9-]+)/g,it=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).inputRef=r.createRef(),e.state={query:"",matches:[]},e.handleIngredientClick=function(t){var n,a="produces:".concat(t.name);e.state.query.includes(a)||(e.setQuery("".concat(e.state.query," ").concat(a),(function(){e.calculateMatches()})),null===(n=e.inputRef.current)||void 0===n||n.scrollIntoView())},e.handleProductClick=function(t){var n,a="consumes:".concat(t.name);e.state.query.includes(a)||(e.setQuery("".concat(e.state.query," ").concat(a),(function(){e.calculateMatches()})),null===(n=e.inputRef.current)||void 0===n||n.scrollIntoView())},e.handleQueryInput=function(t){var n=t.target;e.setQuery(n.value)},e.handleRecipeClick=function(t){e.props.onPickRecipe(t),e.setQuery("")},e.setQuery=function(t,n){t.trim()?(e.setState({query:t},n),e.debCalculateMatches()):(e.debCalculateMatches.cancel(),e.setState({query:"",matches:[]},n))},e.debCalculateMatches=T(e.calculateMatches.bind(Object(Ye.a)(e)),200),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){me.addHandler(this.handleIngredientClick),fe.addHandler(this.handleProductClick)}},{key:"componentWillUnmount",value:function(){this.debCalculateMatches.cancel(),me.removeHandler(this.handleIngredientClick),fe.removeHandler(this.handleProductClick)}},{key:"calculateMatches",value:function(){var e=this.state.query.trim().toLowerCase();if(e){var t={consumes:[],produces:[]};e=e.replace(rt,(function(e,n,a){return t[n].push(a),""})).trim();var n=this.props.recipes;if((t.consumes.length||t.produces.length)&&(n=n.filter((function(e){var n,a=Object(C.a)(t.consumes);try{var r=function(){var t=n.value;if(!e.ingredients.some((function(e){return e.name===t})))return{v:!1}};for(a.s();!(n=a.n()).done;){var i=r();if("object"===typeof i)return i.v}}catch(l){a.e(l)}finally{a.f()}var o,c=Object(C.a)(t.produces);try{var s=function(){var t=o.value;if(!e.products.some((function(e){return e.name===t})))return{v:!1}};for(c.s();!(o=c.n()).done;){var u=s();if("object"===typeof u)return u.v}}catch(l){c.e(l)}finally{c.f()}return!0}))),e)n=new et.a(n,{shouldSort:!0,getFn:at,keys:[{name:"niceName",weight:.7},{name:"name",weight:.2}]}).search(e).map((function(e){return e.item}));this.setState({matches:n})}else this.setState({matches:[]})}},{key:"renderMatches",value:function(){var e=this;if(!this.state.matches.length)return"";var t=this.state.matches;return t.length>100&&(t=t.slice(0,100)),Object(a.jsxs)("table",{className:"table table-hover",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Recipe"}),Object(a.jsx)("th",{children:"Time"}),Object(a.jsx)("th",{children:"Ingredients"}),Object(a.jsx)("th",{children:"Products"})]})}),Object(a.jsx)("tbody",{children:t.map((function(t){return Object(a.jsx)(ot,{recipe:t,onClick:e.handleRecipeClick},t.name)}))})]})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:nt.a.RecipePicker,children:[Object(a.jsx)("div",{children:Object(a.jsx)("input",{type:"search",ref:this.inputRef,className:"editable-display form-control",placeholder:"What do you want to build?",value:this.state.query,onChange:this.handleQueryInput})}),this.renderMatches()]})}}]),n}(r.PureComponent),ot=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleClickAdd=function(){e.props.onClick(e.props.recipe)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.recipe,t=e.ingredients.map((function(e){return Object(a.jsx)(qe,{obj:e.item,tooltip:function(){return Object(a.jsx)(Fe,{obj:e})}},e.name)})),n=e.products.map((function(e){return Object(a.jsx)(qe,{obj:e.item,tooltip:function(){return Object(a.jsx)(Fe,{obj:e})}},e.name)}));return Object(a.jsxs)("tr",{onClick:this.handleClickAdd,children:[Object(a.jsx)("td",{className:nt.a.ResultName,children:Object(a.jsx)(qe,{obj:e,text:e.niceName,tooltip:function(){return Object(a.jsx)(We,{recipe:e})}})}),Object(a.jsx)("td",{children:e.craftingTime.toDecimal()}),Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:n})]})}}]),n}(r.PureComponent),ct=n(48),st=n.n(ct),ut=function(e){var t=e.rows,n=O(),i=Object(r.useMemo)((function(){var e=new ke(t);return n.sortByItem(e.ingredients,(function(e){return e.item})),n.sortByItem(e.products,(function(e){return e.item})),e}),[n,t]);return i.ingredients.length||i.products.length?Object(a.jsxs)("div",{className:"card ".concat(st.a.TotalCard),children:[Object(a.jsx)("div",{className:"card-header",children:"Combined Totals"}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:["Ingredients:",i.ingredients.map((function(e){return Object(a.jsx)(Ue,{obj:e,showName:!0},e.name)}))]}),Object(a.jsxs)("div",{className:"col",children:["Products:",i.products.map((function(e){return Object(a.jsx)(Ue,{obj:e,showName:!0},e.name)}))]})]})})]}):Object(a.jsx)("div",{})},lt=n(49),dt=n.n(lt),pt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).handleDragEnd=function(t){t.destination&&t.source.index!==t.destination.index&&e.props.onMoveRow(t.source.index,t.destination.index)},e.renderRow=function(t,n){return Object(a.jsx)(Xe,{index:n,data:t,onUpdateRow:e.props.onUpdateRow,onRemoveRow:e.props.onRemoveRow},t.recipe.name)},e.handleClickRename=function(){var t=prompt("Whatcha wanna call it now?",e.props.group.name);t&&e.props.onRenameGroup(t)},e.handleClickClone=function(){var t=prompt("Whatcha wanna call it now?","".concat(e.props.group.name," (Clone)"));t&&e.props.onCloneGroup(t)},e.handleClickDelete=function(){e.props.group.rows.length&&!window.confirm("Are you sure you want to delete ".concat(e.props.group.name))||e.props.onRemoveGroup()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){be.addHandler(this.props.onAddRow)}},{key:"componentDidUpdate",value:function(e,t){this.props.onAddRow!==e.onAddRow&&(be.removeHandler(e.onAddRow),be.addHandler(this.props.onAddRow))}},{key:"componentWillUnmount",value:function(){be.removeHandler(this.props.onAddRow)}},{key:"render",value:function(){var e=this,t=this.props.gameData.recipes.filter((function(t){return!e.props.group.rows.some((function(e){return e.recipe===t}))}));return Object(a.jsxs)("div",{className:dt.a.RecipeGroup,children:[Object(a.jsxs)("div",{className:"clearfix",children:[Object(a.jsx)("h3",{className:"float-left",children:this.props.group.name}),Object(a.jsx)("div",{className:"float-right",children:Object(a.jsxs)("div",{className:"button-group",children:[Object(a.jsx)("button",{className:"btn btn-info",onClick:this.handleClickRename,children:"Rename"}),Object(a.jsx)("button",{className:"btn btn-info",onClick:this.handleClickClone,children:"Clone"}),Object(a.jsx)("button",{className:"btn btn-danger",onClick:this.handleClickDelete,children:"Delete"})]})})]}),Object(a.jsx)(it,{recipes:t,onPickRecipe:this.props.onAddRow}),Object(a.jsx)("hr",{}),Object(a.jsx)(ye.a,{onDragEnd:this.handleDragEnd,children:Object(a.jsx)(ye.c,{droppableId:"eyy",children:function(t){return Object(a.jsxs)("div",Object(V.a)(Object(V.a)({ref:t.innerRef},t.droppableProps),{},{children:[e.props.group.rows.map(e.renderRow),t.placeholder]}))}})}),Object(a.jsx)("hr",{}),Object(a.jsx)(ut,{rows:this.props.group.rows})]})}}]),n}(i.a.PureComponent),ht=function(e){var t=e.groupAtom,n=e.onRemoveGroup,i=Object(c.d)(t),o=Object(k.a)(i,2),s=o[0],u=o[1],l=Object(c.e)(w),d=O(),p=we(),h=Object(r.useCallback)((function(e){u((function(t){return Object(V.a)(Object(V.a)({},t),{},{name:e})}))}),[u]),m=Object(r.useCallback)((function(e){p(Object(V.a)(Object(V.a)({},s),{},{name:e}))}),[p,s]),f=Object(r.useCallback)((function(){n(t)}),[n,t]),b=Object(r.useCallback)((function(e,t){var n=Array.from(s.rows),a=n.splice(e,1),r=Object(k.a)(a,1)[0];N(r,"Nothing at old index: ".concat(e)),n.splice(t,0,r),u((function(e){return Object(V.a)(Object(V.a)({},e),{},{rows:n})}))}),[s,u]),j=Object(r.useCallback)((function(e){u((function(t){return t.rows.find((function(t){return t.recipe.name===e.name}))?t:Object(V.a)(Object(V.a)({},t),{},{rows:[].concat(Object(ge.a)(t.rows),[{recipe:e,machine:re(e,l,d),numMachines:F.one,modules:[],beaconModule:null,numBeacons:0}])})}))}),[l,d,u]),v=Object(r.useCallback)((function(e){u((function(t){return Object(V.a)(Object(V.a)({},t),{},{rows:t.rows.map((function(t){return t.recipe===e.recipe?e:t}))})}))}),[u]),g=Object(r.useCallback)((function(e){u((function(t){return Object(V.a)(Object(V.a)({},t),{},{rows:t.rows.filter((function(t){return t.recipe!==e}))})}))}),[u]);return Object(a.jsx)(pt,{group:s,gameData:d,onRenameGroup:h,onCloneGroup:m,onRemoveGroup:f,onAddRow:j,onMoveRow:b,onUpdateRow:v,onRemoveRow:g})},mt=n(13),ft=function(){var e=O(),t=Object(c.d)(w),n=Object(k.a)(t,2),i=n[0],o=n[1],s=Object(r.useCallback)((function(e,t){o((function(n){return Object(V.a)(Object(V.a)({},n),{},{assemblerOverrides:Object(V.a)(Object(V.a)({},n.assemblerOverrides),{},Object(mt.a)({},e,t))})}))}),[o]),u=Object(r.useMemo)((function(){var t=Object.entries(e.categoryMap).filter((function(e){return e[1].length>1})).map((function(e){return e[0]}));return t.sort((function(e,t){return e.localeCompare(t)})),t}),[e]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Default Assemblers"}),u.map((function(t){return Object(a.jsx)(bt,{gameData:e,settings:i,category:t,onSetDefaultMachine:s},t)}))]})},bt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.onSetDefaultMachine(e.props.category,t)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.gameData.categoryMap[this.props.category]||[],t=re(this.props.category,this.props.settings,this.props.gameData);return Object(a.jsx)("div",{className:"btn-toolbar mb-3",children:Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("span",{className:"input-group-text",children:this.props.category})}),Object(a.jsx)("div",{className:"input-group-append btn-icon-wrapper",children:Object(a.jsx)(He,{machines:e,selected:t,onChange:this.handleChange})})]})})}}]),n}(i.a.PureComponent),jt=n(50),vt=n.n(jt),Ot=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).handleKeyDown=function(e){"Shift"===e.key&&document.body.classList.add("shift-down")},a.handleKeyUp=function(e){"Shift"===e.key&&document.body.classList.remove("shift-down")},a.handleClickGroup=function(e){a.setState({activePage:e})},a.handleClickAddGroup=function(e){e.preventDefault();var t="Factory ".concat(a.props.groups.length+1),n=prompt("What do you want to name this group?",t);n&&n.trim()&&a.props.onAddGroup({name:n,rows:[]})},a.handleRemoveGroupAtom=function(e){if(a.state.activePage===e){var t,n=!1,r=Object(C.a)(a.props.groups);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i[1]!==e){a.setState({activePage:i[1]}),n=!0;break}}}catch(o){r.e(o)}finally{r.f()}n||a.setState({activePage:"settings"})}a.props.onRemoveGroupAtom(e)},a.handleClickSettings=function(){a.setState({activePage:"settings"})};var r,i="settings",o=Object(C.a)(a.props.groups);try{for(o.s();!(r=o.n()).done;){i=r.value[1];break}}catch(c){o.e(c)}finally{o.f()}return a.state={activePage:i},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"renderNavbar",value:function(){var e=this,t="settings"===this.state.activePage,n=this.props.groups.map((function(t,n){var r=Object(k.a)(t,2),i=r[0],o=r[1],c=e.state.activePage===o;return Object(a.jsx)("button",{type:"button",className:"list-group-item list-group-item-action ".concat(c?"active":""),onClick:function(){return e.handleClickGroup(o)},children:i.name},n)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{className:"list-group mt-3",children:[Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("span",{role:"img","aria-label":"Factory icon",children:"\ud83c\udfed"})," ","Factories"]}),n,Object(a.jsxs)("button",{type:"button",className:"list-group-item list-group-item-action",onClick:this.handleClickAddGroup,children:[Object(a.jsx)("span",{role:"img","aria-label":"Factory icon",children:"\uff0b"})," ","Add a Factory"]})]}),Object(a.jsx)("ul",{className:"list-group mt-3",children:Object(a.jsxs)("button",{type:"button",className:"list-group-item list-group-item-action ".concat(t?"active":""),onClick:this.handleClickSettings,children:[Object(a.jsx)("span",{role:"img","aria-label":"Gear icon",children:"\u2699\ufe0f"})," ","Settings"]})})]})}},{key:"renderBody",value:function(){return"settings"===this.state.activePage?Object(a.jsx)(ft,{}):this.state.activePage?Object(a.jsx)(ht,{groupAtom:this.state.activePage,onRemoveGroup:this.handleRemoveGroupAtom}):function(e){throw new Error("Unexpected object: "+e)}(this.state.activePage)}},{key:"render",value:function(){return N(this.props.gameData,"falsy gameData, should never happen"),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:Oe()("col col-2 bg-primary",vt.a.Sidebar),children:this.renderNavbar()}),Object(a.jsx)("div",{className:"col pt-3",children:this.renderBody()})]})})})}}]),n}(i.a.PureComponent),gt=function(e){var t=e.gameData,n=Object(c.e)(x),i=Object(c.f)(y),o=we(),s=Object(r.useCallback)((function(e){i((function(t){return t.filter((function(t){return t!==e}))}))}),[i]);return Object(a.jsx)(Ot,{gameData:t,groups:n,onAddGroup:o,onRemoveGroupAtom:s})},yt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loaded:!1},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.load().then((function(){e.setState({loaded:!0})}),(function(t){e.setState((function(){throw t}))}))}},{key:"getPreviousState",value:function(){var e=null;try{e=function(e){var t=ue.exec(document.location.hash);if(!t)return null;var n=Number(t[1]||1),a=decodeURIComponent(t[2]);return n>2&&(a=Object(ie.inflate)(atob(a),{to:"string"})),de(e,{version:n,data:JSON.parse(a)})}(this.props.gameData)}catch(n){!function(e){var t=e;e instanceof Error&&e.stack&&(t=e.stack),je.dispatch({title:"Error!",when:new Date,body:t})}(Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Error loading from URL"}),Object(a.jsx)("br",{}),Object(a.jsx)("pre",{children:String(n)})]})),console.error("error loading from url",n)}if(e)return e;try{var t=function(e){var t=localStorage.getItem(ce);if(!t){if(!(t=localStorage.getItem("appstate")))return null;localStorage.setItem(ce,t),localStorage.removeItem("appstate")}var n=JSON.parse(t);return 1===n.version&&(n.version=3),de(e,n)}(this.props.gameData);if(t)return t}catch(n){console.error("Failed to load local storage state",n)}}},{key:"load",value:function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getPreviousState()){e.next=3;break}return e.abrupt("return");case 3:this.props.onSetPreviousState(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.loaded)return Object(a.jsx)("h1",{children:"Loading..."});var e="".concat("/tscalc","/assets/sprite-sheet-").concat(this.props.gameData.spriteHash,".png"),t="\n        .game-icon {\n            background-image: url(".concat(e,");\n        }\n        ");return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(xt,{gameData:this.props.gameData}),Object(a.jsx)(wt,{href:e}),Object(a.jsx)("style",{children:t}),Object(a.jsx)(gt,{gameData:this.props.gameData})]})}}]),n}(i.a.PureComponent),xt=function(e){var t=e.gameData,n=Object(c.e)(x),a=Object(c.e)(w),i=Object(r.useRef)(!0);return Object(r.useEffect)((function(){if(i.current)i.current=!1;else{var e={groups:n.map((function(e){return e[0]})),settings:a};!function(e,t){var n=se(e,t),a=n.version,r=JSON.stringify(n.data);r=btoa(Object(ie.deflate)(r,{to:"string"})),window.history.replaceState("","","#".concat(a,"-").concat(r))}(e,t),function(e,t){localStorage.setItem(ce,JSON.stringify(se(e,t)))}(e,t)}}),[t,n,a]),null},wt=function(e){return o.createPortal(Object(a.jsx)("link",{rel:"prefetch",href:e.href}),document.head)},kt=function(e){var t=e.gameData,n=Object(c.f)(y),i=Object(c.f)(w),o=Object(r.useCallback)((function(e){var t=0;n(e.groups.map((function(e){return Object(c.b)({key:"group-".concat(Date.now(),"-").concat(t++),default:e})}))),i(e.settings)}),[n,i]);return Object(a.jsx)(yt,{gameData:t,onSetPreviousState:o})},Ct=n(51),Nt=n.n(Ct);function Mt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(j.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/tscalc","/assets/").concat(t,".json"));case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error("Could not load game data, got HTTP status ".concat(n.status));case 5:return e.prev=5,e.next=8,n.json();case 8:a=e.sent,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Error("Could not parse game data: ".concat(e.t0));case 14:return r=new ae(a),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}var St=function(e){var t=e.child,n=Object(c.d)(v)[1],r=Nt()(Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt("kras-18");case 2:return t=e.sent,n(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[]),i=Object(k.a)(r,3),o=i[0],s=i[1],u=i[2];if("pending"===u)return Object(a.jsx)("h3",{children:"Loading game data..."});if("rejected"===u)return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Error loading game data!"}),Object(a.jsx)("pre",{children:String(s)})]});if(o)return t(o);throw new Error("Somehow missing gamedata")},It=function(e){var t=e.title,n=e.when,i=e.onClose,o=e.children;Object(r.useEffect)((function(){var e=setTimeout((function(){i()}),5e3);return function(){clearTimeout(e)}}),[t,n,i,o]);var c=_(n);return Object(a.jsxs)("div",{className:"toast fade show",role:"alert","aria-live":"assertive","aria-atomic":"true",children:[Object(a.jsxs)("div",{className:"toast-header",children:[Object(a.jsx)("strong",{className:"mr-auto",children:t}),Object(a.jsx)("small",{children:c}),Object(a.jsx)("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",onClick:i,children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsx)("div",{className:"toast-body",children:o})]})},Pt=n(52),Tt=n.n(Pt),_t=0,Dt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={toasts:[]},e.handleNotification=function(t){var n=Object(Ye.a)(e),a=Object(V.a)(Object(V.a)({},t),{},{key:_t++,handleClose:function(){n.setState((function(e){return Object(V.a)(Object(V.a)({},e),{},{toasts:e.toasts.filter((function(e){return e.key!==a.key}))})}))}});e.setState((function(e){return Object(V.a)(Object(V.a)({},e),{},{toasts:[].concat(Object(ge.a)(e.toasts),[a])})}))},e.renderToast=function(e){return Object(a.jsx)(It,{title:e.title,when:e.when,onClose:e.handleClose,children:e.body},e.key)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){je.addHandler(this.handleNotification)}},{key:"componentWillUnmount",value:function(){je.removeHandler(this.handleNotification)}},{key:"render",value:function(){return Object(a.jsx)("div",{"aria-live":"polite","aria-atomic":"true",className:Tt.a.ToastPortal,children:this.state.toasts.map(this.renderToast)})}}]),n}(i.a.Component);n(75);o.render(Object(a.jsx)(m,{children:Object(a.jsxs)(c.a,{children:[Object(a.jsx)(St,{child:function(e){return Object(a.jsx)(kt,{gameData:e})}}),Object(a.jsx)(Dt,{})]})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.89176709.chunk.js.map